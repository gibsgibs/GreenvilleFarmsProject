@model IEnumerable<GreenvilleFarmsProject.Models.Review>
@{
    ViewBag.Title = "Home";
}
<!--Initializing index.html as the active page.-->
<a class="active"></a>

<div class="container-fluid">
    <!-- Row 1 -->
    <div class="row justify-content-xl-start justify-content-lg-center">
        <div class="col-xl-3 order-xl-first col-sm-6 col-xs-12">
            <br />
            <!-- About Us -->
            <div class="card border-red info-box">
                <div class="card-header bg-red" style="color:#ffffff;">
                    <h3>About Us</h3>
                </div>
                <div class="card-body border-red">                        
                    <p>
                        We are a small family farm outside of Banks Oregon about 25 miles from Portland.
                        For more than 14 years we have been bringing sustainably grown veggies, eggs, jams
                        and goodies from our farm to you at local Farmers Markets and through our CSA (Community Supported Agriculture).
                    </p>
                </div>
            </div>
        </div>
        <div class="col-xl-6 col-lg-10 order-sm-first col-xs-12">
            <br />
            @if (ViewBag.Pictures.Length == 1)
            {
                <!-- The one picture (if there is only 1) -->
                <img class="d-block picture" style="object-fit:cover;" src="~/Content/Images/Picture_Uploads/@ViewBag.Pictures[0].PictureName" />
            }
            @if (ViewBag.Pictures.Length > 1)
            {
                <!-- Carousel -->
                <div id="homeCarousel" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active" style="background-color:#fffbfe;">
                            <img class="d-block picture" style="object-fit:cover;" src="~/Content/Images/Picture_Uploads/@ViewBag.Pictures[0].PictureName" />
                        </div>
                        @for (int i = 1; i < ViewBag.Pictures.Length; i++)
                        {
                            <div class="carousel-item" style="background-color:#fffbfe;">
                                <img class="d-block picture" style="object-fit:cover;" src="~/Content/Images/Picture_Uploads/@ViewBag.Pictures[i].PictureName" />
                            </div>
                        }
                    </div>
                </div>
                <a class="carousel-control-prev" href="#homeCarousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#homeCarousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            }
        </div>
        <div class="col-xl-3 col-sm-6 col-xs-12">
            <br />
            <!--Google Reviews-->
            <div class="card border-green info-box">
                <div class="card-header bg-green" style="color:#ffffff;">
                    <h4>Google Reviews:</h4>
                </div>
                <div class="card-body border-green">
                    @foreach (var review in Model)
                    {
                    <div class="row">
                        <div class="col-md-12 col-xs-12">
                            <p><strong>@Html.DisplayNameFor(model => model.author_name): </strong>@Html.DisplayFor(modelItem => review.author_name)</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6 col-md-12 col-sm-6 col-xs-12">
                            <p><strong>@Html.DisplayFor(modelItem => review.relative_time_description)</strong></p>
                        </div>
                        <div class="col-lg-6 col-md-12 col-sm-6 col-xs-12">
                            <!--<div class="d-flex justify-content-end">-->
                            <p>
                                @for (int i = 0; i < review.rating; i++)
                                {
                                    <img src="~/Content/Images/Icons/star.svg" class="filter-gold" />
                                }
                            </p>
                        <!--</div>-->
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-xs-12">
                            <p>@Html.DisplayFor(modelItem => review.text)</p>
                        </div>
                    </div>
                        }
                    </div>
            </div>
        </div>
    </div>
</div>